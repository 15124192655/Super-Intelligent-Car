<html>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script>
$(document).ready(function(){
	var ws=new WebSocket('ws://127.0.0.1:9090');
	ws.onopen=function(e){
		console.log('websocket connected');
	};
	
	ws.onmessage=function(e){
		console.log('recv msg',e.data);
		dec=JSON.parse(e.data);
        //TODO: handle consumers here to do data in very way.
	}
	ws.onclose=function(e){
		console.log('websocket disconnected');
	};

	//movement controller
	$(".mbtn").mouseup(function(){
		console.log($(this).html());
		data={'handle':'move','direction':'S',};
		ws.send(JSON.stringify(data));
	});
	$(".mbtn").mousedown(function(){
		console.log($(this).html());
		data={'handle':'move','direction':$(this).html(),};
		ws.send(JSON.stringify(data));
	})
	$(".rbtn").click(function(){
		console.log($(this).html());
		data={'handle':'motor','id':$(this).html(),'angle':233,};
		ws.send(JSON.stringify(data));
	})
});
</script>

<style type="text/css">
.btn {
	text-align: center;
}
</style>

 

<head>
    <title>control page</title>
</head>
<body>
<div style="
    position: relative;
    border: solid;
	width: 75px;">
	
	<div class="mbtn" style="
    text-align: center;
    /* background-color: green; */">F</div>
	<div>
		<div  class="mbtn" style="
		float: left;
		width: 50%;
		text-align: center;">L</div>
		<div class="mbtn" style="
		float: left;
		width: 50%;
		text-align: center;">R</div>
	</div>

	<div class="mbtn" style="text-align: center;">B</div>
</div>
<div style="
    position: relative;
    border: solid;
	width: 75px;">
	
	<div class="rbtn" style="
    text-align: center;
    /* background-color: green; */">i</div>
	<div>
		<div  class="rbtn" style="
		float: left;
		width: 50%;
		text-align: center;">j</div>
		<div class="rbtn" style="
		float: left;
		width: 50%;
		text-align: center;">l</div>
	</div>

	<div class="rbtn" style="text-align: center;">k</div>
</div>


</body>

</html>
